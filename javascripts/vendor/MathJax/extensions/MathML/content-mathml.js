/*
 *  /MathJax/extensions/MathML/content-mathml.js
 *
 *  Copyright (c) 2009-2015 The MathJax Consortium
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
MathJax.Extension["MathML/content-mathml"]=function(e){var n=e.Browser.isMSIE;if(n)try{document.namespaces.add("m","http://www.w3.org/1998/Math/MathML")}catch(a){}var r=e.CombineConfig("MathML.content-mathml",{collapsePlusMinus:!0,cistyles:{vector:"bold-italic",matrix:"bold-upright"},symbols:{gamma:"\u03b3"}}),t={version:"2.4",settings:r,transformElements:function(e){for(var n=0,a=e.length;a>n;n++){var r=t.transformElement(e[n]);e[n].parentNode.replaceChild(r,e[n])}},transformElement:function(e){for(var n=t.cloneNode(e),a=0,r=e.childNodes.length;r>a;a++)t.applyTransform(n,e.childNodes[a],0);return n},getTextContent:function(e){return void 0!==e.text?e.text:void 0!==e.innerText?e.innerText:e.textContent},setTextContent:function(e,n){for(var a=0,r=e.childNodes.length;r>a;a++)3===e.childNodes[a].nodeType&&(e.removeChild(e.childNodes[a]),a--,r--);e.appendChild(document.createTextNode(n))},cloneNode:function(e,n){var a,r,o;if(1===e.nodeType){for(a=t.createElement(e.nodeName),r=0,o=e.attributes.length;o>r;r++)a.setAttribute(e.attributes[r].nodeName,e.attributes[r].nodeValue);if(n)for(r=0,o=e.childNodes.length;o>r;r++){var p=t.cloneNode(e.childNodes[r],!0);a.appendChild(p)}}else 3===e.nodeType&&(a=document.createTextNode(e.nodeValue));return a},createElement:function(e){var a=n?document.createElement("m:"+e):document.createElementNS("http://www.w3.org/1998/Math/MathML",e);return a.isMathJax=!0,a},getChildren:function(e){for(var n=[],a=0,r=e.childNodes.length;r>a;a++)1===e.childNodes[a].nodeType&&n.push(e.childNodes[a]);return n},classifyChildren:function(e){for(var n=[],a=[],r=[],t=0,o=e.childNodes.length;o>t;t++)if(1===e.childNodes[t].nodeType){var p=e.childNodes[t],l=p.nodeName;"bvar"===l?a.push(p):"condition"===l||"degree"===l||"momentabout"===l||"logbase"===l||"lowlimit"===l||"uplimit"===l||"interval"===l&&n.length<2||"domainofapplication"===l?r.push(p):n.push(p)}return{args:n,bvars:a,qualifiers:r}},appendToken:function(e,n,a){var r=t.createElement(n);return r.appendChild(document.createTextNode(a)),e.appendChild(r),r},applyTransform:function(e,n,a){if(!n){var r=t.createElement("merror");return t.appendToken(r,"mtext","Missing child node"),void e.appendChild(r)}if(1===n.nodeType)if(t.tokens[n.nodeName])t.tokens[n.nodeName](e,n,a);else if(0===n.childNodes.length)t.appendToken(e,"mi",n.nodeName);else{var o=t.cloneNode(n);e.appendChild(o);for(var p=0,l=n.childNodes.length;l>p;p++)t.applyTransform(o,n.childNodes[p],a)}else 3===n.nodeType&&e.appendChild(t.cloneNode(n))},createmfenced:function(e,n,a){var r=t.createElement("mfenced");r.setAttribute("open",n),r.setAttribute("close",a);for(var o=0,p=e.length;p>o;o++)t.applyTransform(r,e[o],0);return r},transforms:{identifier:function(e){return function(n){t.appendToken(n,"mi",e)}},set:function(e,n){var a=t.transforms.bind("",",","|");return function(r,o){var p=t.classifyChildren(o),l=p.args,i=p.bvars,d=p.qualifiers;if(i.length){var m=p.args[0];l=l.slice(1);var s=t.createElement("mfenced");s.setAttribute("open",e),s.setAttribute("close",n),a(s,o,m,l,i,d,0),r.appendChild(s)}else r.appendChild(t.createmfenced(l,e,n))}},token:function(e){return function(n,a){if(1===a.childNodes.length&&3===a.childNodes[0].nodeType)t.appendToken(n,e,t.getTextContent(a));else{for(var r=t.createElement("mrow"),o=0,p=a.childNodes.length;p>o;o++)3===a.childNodes[o].nodeType?t.appendToken(n,e,t.getTextContent(a.childNodes[o])):t.applyTransform(r,a.childNodes[o],0);r.childNodes.length&&n.appendChild(r)}}},binary:function(e,n){return function(a,r,o,p,l,i,d){var m=t.createElement("mrow"),s=d>n||n==d&&"-"===e;if(s&&t.appendToken(m,"mo","("),p.length>1&&t.applyTransform(m,p[0],n),t.appendToken(m,"mo",e),p.length>0){var f=p[1===p.length?0:1];t.applyTransform(m,f,n)}s&&t.appendToken(m,"mo",")"),a.appendChild(m)}},infix:function(e,n){return function(a,r,o,p,l,i,d){var m=t.createElement("mrow"),s=d>n;s&&t.appendToken(m,"mo","(");for(var f=0,c=p.length;c>f;f++)f>0&&t.appendToken(m,"mo",e),t.applyTransform(m,p[f],n);s&&t.appendToken(m,"mo",")"),a.appendChild(m)}},iteration:function(e,n){return function(a,r,o,p,l,i,d){var m=t.createElement("mrow"),s=t.createElement("mo");t.setTextContent(s,e);var f=t.createElement("munderover");f.appendChild(s);var c,h,T,g,u,C,v,y,k=t.createElement("mrow");for(c=0,T=i.length;T>c;c++)if("lowlimit"===i[c].nodeName||"condition"===i[c].nodeName||"domainofapplication"===i[c].nodeName){if("lowlimit"===i[c].nodeName){for(h=0,g=l.length;g>h;h++)C=l[h],u=t.getChildren(C),u.length&&t.applyTransform(k,u[0],0);l.length&&t.appendToken(k,"mo",n)}for(u=t.getChildren(i[c]),h=0;h<u.length;h++)t.applyTransform(k,u[h],0)}else if(u=t.getChildren(i[c]),"interval"===i[c].nodeName&&2===u.length){for(h=0,g=l.length;g>h;h++)C=l[h],u=t.getChildren(C),u.length&&t.applyTransform(k,u[0],0);l.length&&t.appendToken(k,"mo","="),t.applyTransform(k,t.getChildren(i[c])[0],0)}f.appendChild(k);var E=t.createElement("mrow");for(c=0,T=i.length;T>c;c++)if("uplimit"===i[c].nodeName||"interval"===i[c].nodeName)for(u=t.getChildren(i[c]),h=0,v=u.length;v>h;h++)t.applyTransform(E,u[h],0);for(f.appendChild(E),m.appendChild(f),c=0,y=p.length;y>c;c++)t.applyTransform(m,p[c],d);a.appendChild(m)}},bind:function(e,n,a){return function(r,o,p,l,i,d){var m,s,f,c,h,T,g=t.createElement("mrow");for(e&&t.appendToken(g,"mo",e),f=0,c=i.length;c>f;f++){var u=i[f];f>0&&t.appendToken(g,"mo",","),m=t.getChildren(u),m.length&&t.applyTransform(g,m[0],0)}var C=t.createElement("mrow"),v=!1;for(s=0,h=d.length;h>s;s++)if("condition"===d[s].nodeName)for(v=!0,m=t.getChildren(d[s]),f=0,T=m.length;T>f;f++)t.applyTransform(C,m[f],0);for(v&&t.appendToken(g,"mo",a),g.appendChild(C),s=0,h=d.length;h>s;s++)if("condition"!=d[s].nodeName)for(t.appendToken(g,"mo","\u2208"),m=t.getChildren(d[s]),f=0,T=m.length;T>f;f++)t.applyTransform(g,m[f],0);for(l.length&&(i.length||m.length)&&t.appendToken(g,"mo",n),s=0,c=l.length;c>s;s++)t.applyTransform(g,l[s],0);r.appendChild(g)}},fn:function(e){return function(n,a,r,o){var p=t.createElement("mrow");r.childNodes.length?t.applyTransform(p,r,1):t.appendToken(p,"mi",e),t.appendToken(p,"mo","\u2061"),p.appendChild(t.createmfenced(o,"(",")")),n.appendChild(p)}},minmax:function(e){return function(n,a,r,o,p,l){var i=t.createElement("mrow");t.appendToken(i,"mi",e);var d=t.createElement("mrow");t.appendToken(d,"mo","{");for(var m=0,s=o.length;s>m;m++)m>0&&t.appendToken(d,"mo",","),t.applyTransform(d,o[m],0);if(l.length)for(t.appendToken(d,"mo","|"),m=0,s=l.length;s>m;m++)t.applyTransform(d,l[m],0);t.appendToken(d,"mo","}"),i.appendChild(d),n.appendChild(i)}}}};return t.tokens={ci:function(e,n,a){if(1===n.childNodes.length&&3===n.childNodes[0].nodeType){var r=t.appendToken(e,"mi",t.getTextContent(n)),o=n.getAttribute("type");o in t.settings.cistyles&&r.setAttribute("mathvariant",t.settings.cistyles[o])}else t.transforms.token("mi")(e,n,a)},cs:t.transforms.token("ms"),csymbol:function(e,n,a){var r=n.getAttribute("cd");r&&t.contentDictionaries[r]?t.contentDictionaries[r](e,n,a):t.settings.symbols[name]?t.appendToken(e,"mi",t.settings.symbols[name]):t.tokens.ci(e,n)},fn:function(e,n,a){t.applyTransform(e,t.getChildren(n)[0],a)},naturalnumbers:t.transforms.identifier("\u2115"),integers:t.transforms.identifier("\u2124"),reals:t.transforms.identifier("\u211d"),rationals:t.transforms.identifier("\u211a"),complexes:t.transforms.identifier("\u2102"),primes:t.transforms.identifier("\u2119"),exponentiale:t.transforms.identifier("e"),imaginaryi:t.transforms.identifier("i"),notanumber:t.transforms.identifier("NaN"),eulergamma:t.transforms.identifier("\u03b3"),gamma:t.transforms.identifier("\u0263"),pi:t.transforms.identifier("\u03c0"),infinity:t.transforms.identifier("\u221e"),emptyset:t.transforms.identifier("\u2205"),"true":t.transforms.identifier("true"),"false":t.transforms.identifier("false"),set:t.transforms.set("{","}"),list:t.transforms.set("(",")"),interval:function(e,n){var a,r,o=n.getAttribute("closure");switch(o){case"open":a="(",r=")";break;case"open-closed":a="(",r="]";break;case"closed-open":a="[",r=")";break;case"closed":default:a="[",r="]"}e.appendChild(t.createmfenced(t.getChildren(n),a,r))},apply:function(e,n,a){var r=t.classifyChildren(n),o=r.args[0],p=r.args.slice(1),l=r.bvars,i=r.qualifiers;if(o){var d=o.nodeName;d="csymbol"===d?t.getTextContent(o).toLowerCase():d,t.applyTokens[d]?t.applyTokens[d](e,n,o,p,l,i,a):t.transforms.fn(d)(e,n,o,p,l,i,a)}else e.appendChild(t.createElement("mrow"))},cn:function(e,n){var a=n.getAttribute("type"),r=n.getAttribute("base");if(a||r)switch(r&&(a="based-integer"),a){case"integer":case"real":case"double":case"constant":t.transforms.token("mn")(e,n);break;case"hexdouble":t.appendToken(e,"mn","0x"+t.getTextContent(n));break;default:var o=t.createElement("apply"),p=t.createElement("mrow"),l=t.createElement(a);o.appendChild(l),r&&t.appendToken(o,"mn",r);for(var i=0,d=n.childNodes.length;d>i;i++)3===n.childNodes[i].nodeType?t.appendToken(p,"cn",t.getTextContent(n.childNodes[i])):"sep"===n.childNodes[i].nodeName?(o.appendChild(p),p=t.createElement("mrow")):p.appendChild(t.cloneNode(n.childNodes[i],!0));o.appendChild(p),t.applyTransform(e,o,0)}else t.transforms.token("mn")(e,n)},vector:function(e,n){var a=t.createElement("mrow");t.appendToken(a,"mo","(");for(var r=t.createElement("mtable"),o=t.getChildren(n),p=0,l=o.length;l>p;p++){var i=t.createElement("mtr"),d=t.createElement("mtd");t.applyTransform(d,o[p],0),i.appendChild(d),r.appendChild(i)}a.appendChild(r),t.appendToken(a,"mo",")"),e.appendChild(a)},piecewise:function(e,n){var a=t.createElement("mrow");t.appendToken(a,"mo","{");var r=t.createElement("mtable");a.appendChild(r);for(var o=t.getChildren(n),p=0,l=o.length;l>p;p++)t.applyTransform(r,o[p],0);e.appendChild(a)},piece:function(e,n){for(var a=t.createElement("mtr"),r=t.getChildren(n),o=0,p=r.length;p>o;o++){var l=t.createElement("mtd");a.appendChild(l),t.applyTransform(l,r[o],0),0===o&&(l=t.createElement("mtd"),t.appendToken(l,"mtext","\xa0if\xa0"),a.appendChild(l))}e.appendChild(a)},otherwise:function(e,n){var a=t.createElement("mtr"),r=t.getChildren(n);if(r.length){var o=t.createElement("mtd");a.appendChild(o),t.applyTransform(o,r[0],0),o=t.createElement("mtd"),o.setAttribute("columnspan","2"),t.appendToken(o,"mtext","\xa0otherwise"),a.appendChild(o)}e.appendChild(a)},matrix:function(e,n){var a=t.classifyChildren(n),r=a.args,o=a.bvars,p=a.qualifiers;if(o.length||p.length){var l=t.createElement("mrow");t.appendToken(l,"mo","[");var i=t.createElement("msub");t.appendToken(i,"mi","m");for(var d=t.createElement("mrow"),m=0,s=o.length;s>m;m++)0!=m&&t.appendToken(d,"mo",","),t.applyTransform(d,o[m].childNodes[0],0);i.appendChild(d),l.appendChild(i);var f=t.cloneNode(i,!0);for(t.appendToken(l,"mo","|"),l.appendChild(f),t.appendToken(l,"mo","="),m=0,s=r.length;s>m;m++)0!=m&&t.appendToken(l,"mo",","),t.applyTransform(l,r[m],0);for(t.appendToken(l,"mo",";"),m=0,s=p.length;s>m;m++)0!=m&&t.appendToken(l,"mo",","),t.applyTransform(l,p[m],0);t.appendToken(l,"mo","]"),e.appendChild(l)}else{var c=t.createElement("mfenced"),h=t.createElement("mtable");for(m=0,s=r.length;s>m;m++)t.applyTransform(h,r[m],0);c.appendChild(h),e.appendChild(c)}},matrixrow:function(e,n){for(var a=t.createElement("mtr"),r=t.getChildren(n),o=0,p=r.length;p>o;o++){var l=t.createElement("mtd");t.applyTransform(l,r[o],0),a.appendChild(l)}e.appendChild(a)},condition:function(e,n){for(var a=t.createElement("mrow"),r=t.getChildren(n),o=0,p=r.length;p>o;o++)t.applyTransform(a,r[o],0);e.appendChild(a)},lambda:function(e,n,a){var r,o,p,l=t.createElement("lambda"),i=t.classifyChildren(n),d=i.args,m=i.bvars,s=i.qualifiers;if(m.length)t.applyTokens.lambda(e,n,l,d,m,s,a);else{var f=t.createElement("mrow");for(r=0,o=d.length;o>r;r++)t.applyTransform(f,d[r],0);if(s.length){var c=t.createElement("msub");t.appendToken(c,"mo","|");var h=t.createElement("mrow");for(r=0,p=s.length;p>r;r++){i=t.getChildren(s[r]);for(var T=0,g=i.length;g>T;T++)t.applyTransform(h,i[T],0)}c.appendChild(h),f.appendChild(c)}e.appendChild(f)}},ident:function(e){t.appendToken(e,"mi","id")},domainofapplication:function(e){var n=t.createElement("merror");t.appendToken(n,"mtext","unexpected domainofapplication"),e.appendChild(n)},share:function(e,n){var a=t.createElement("mi");a.setAttribute("href",n.getAttribute("href")),t.setTextContent(a,"Share "+n.getAttribute("href")),e.appendChild(a)},cerror:function(e,n){for(var a=t.createElement("merror"),r=t.getChildren(n),o=0,p=r.length;p>o;o++)t.applyTransform(a,r[o],0);e.appendChild(a)},semantics:function(e,n){var a=t.createElement("mrow"),r=t.getChildren(n);if(r.length){for(var o=r[0],p=0,l=r.length;l>p;p++)if("annotation-xml"===r[p].nodeName&&"MathML-Presentation"===r[p].getAttribute("encoding")){o=r[p];break}t.applyTransform(a,o,0)}e.appendChild(a)},"annotation-xml":function(e,n){for(var a=t.createElement("mrow"),r=t.getChildren(n),o=0,p=r.length;p>o;o++)t.applyTransform(a,r[o],0);e.appendChild(a)}},t.tokens.reln=t.tokens.bind=t.tokens.apply,t.contentDictionaries={setname1:function(e,n){var a={C:"\u2102",N:"\u2115",P:"\u2119",Q:"\u211a",R:"\u211d",Z:"\u2124"},r=t.getTextContent(n);t.appendToken(e,"mi",a[r])},aritherror:function(e,n){var a=t.getTextContent(n);t.appendToken(e,"mi",a+":")}},t.applyTokens={rem:t.transforms.binary("mod",3),divide:t.transforms.binary("/",3),remainder:t.transforms.binary("mod",3),implies:t.transforms.binary("\u21d2",3),factorof:t.transforms.binary("|",3),"in":t.transforms.binary("\u2208",3),notin:t.transforms.binary("\u2209",3),notsubset:t.transforms.binary("\u2288",2),notprsubset:t.transforms.binary("\u2284",2),setdiff:t.transforms.binary("\u2216",2),eq:t.transforms.infix("=",1),compose:t.transforms.infix("\u2218",0),left_compose:t.transforms.infix("\u2218",1),xor:t.transforms.infix("xor",3),neq:t.transforms.infix("\u2260",1),gt:t.transforms.infix(">",1),lt:t.transforms.infix("<",1),geq:t.transforms.infix("\u2265",1),leq:t.transforms.infix("\u2264",1),equivalent:t.transforms.infix("\u2261",1),approx:t.transforms.infix("\u2248",1),subset:t.transforms.infix("\u2286",2),prsubset:t.transforms.infix("\u2282",2),cartesianproduct:t.transforms.infix("\xd7",2),cartesian_product:t.transforms.infix("\xd7",2),vectorproduct:t.transforms.infix("\xd7",2),scalarproduct:t.transforms.infix(".",2),outerproduct:t.transforms.infix("\u2297",2),sum:t.transforms.iteration("\u2211","="),product:t.transforms.iteration("\u220f","="),forall:t.transforms.bind("\u2200",".",","),exists:t.transforms.bind("\u2203",".",","),lambda:t.transforms.bind("\u03bb",".",","),limit:t.transforms.iteration("lim","\u2192"),sdev:t.transforms.fn("\u03c3"),determinant:t.transforms.fn("det"),max:t.transforms.minmax("max"),min:t.transforms.minmax("min"),real:t.transforms.fn("\u211b"),imaginary:t.transforms.fn("\u2111"),set:t.transforms.set("{","}"),list:t.transforms.set("(",")"),exp:function(e,n,a,r){var o=t.createElement("msup");t.appendToken(o,"mi","e"),t.applyTransform(o,r[0],0),e.appendChild(o)},union:function(e,n,a,r,o,p,l){o.length?t.transforms.iteration("\u22c3","=")(e,n,a,r,o,p,l):t.transforms.infix("\u222a",2)(e,n,a,r,o,p,l)},intersect:function(e,n,a,r,o,p,l){if(o.length)t.transforms.iteration("\u22c2","=")(e,n,a,r,o,p,l);else{var i=t.createElement("mrow"),d=l>2;d&&t.appendToken(i,"mo","(");for(var m=0,s=r.length;s>m;m++){var f=!1;if(m>0&&(t.appendToken(i,"mo","\u2229"),"apply"===r[m].nodeName)){var c=t.getChildren(r[m])[0];f="union"===c.nodeName}f&&t.appendToken(i,"mo","("),t.applyTransform(i,r[m],2),f&&t.appendToken(i,"mo",")")}d&&t.appendToken(i,"mo",")"),e.appendChild(i)}},floor:function(e,n,a,r){var o=t.createElement("mrow");t.appendToken(o,"mo","\u230a"),t.applyTransform(o,r[0],0),t.appendToken(o,"mo","\u230b"),e.appendChild(o)},conjugate:function(e,n,a,r){var o=t.createElement("mover");t.applyTransform(o,r[0],0),t.appendToken(o,"mo","\xaf"),e.appendChild(o)},abs:function(e,n,a,r){var o=t.createElement("mrow");t.appendToken(o,"mo","|"),t.applyTransform(o,r[0],0),t.appendToken(o,"mo","|"),e.appendChild(o)},and:function(e,n,a,r,o,p,l){o.length||p.length?t.transforms.iteration("\u22c0","=")(e,n,a,r,o,p,4):t.transforms.infix("\u2227",2)(e,n,a,r,o,p,l)},or:function(e,n,a,r,o,p,l){o.length||p.length?t.transforms.iteration("\u22c1","=")(e,n,a,r,o,p,4):t.transforms.infix("\u2228",2)(e,n,a,r,o,p,l)},xor:function(e,n,a,r,o,p,l){o.length||p.length?t.transforms.iteration("xor","=")(e,n,a,r,o,p,4):t.transforms.infix("xor",2)(e,n,a,r,o,p,l)},card:function(e,n,a,r){var o=t.createElement("mrow");t.appendToken(o,"mo","|"),t.applyTransform(o,r[0],0),t.appendToken(o,"mo","|"),e.appendChild(o)},mean:function(e,n,a,r){if(1===r.length){var o=t.createElement("mover");t.applyTransform(o,r[0],0),t.appendToken(o,"mo","\xaf"),e.appendChild(o)}else e.appendChild(t.createmfenced(r,"\u27e8","\u27e9"))},moment:function(e,n,a,r,o,p){var l,i,d,m,s,f;for(m=0,f=p.length;f>m;m++)"degree"===p[m].nodeName?l=p[m]:"momentabout"===p[m].nodeName&&(i=p[m]);var c=t.createElement("mrow");t.appendToken(c,"mo","\u27e8");var h=t.createElement("mrow");if(r.length>1?h.appendChild(t.createmfenced(r,"(",")")):t.applyTransform(h,r[0],0),l){var T=t.createElement("msup");for(T.appendChild(h),d=t.getChildren(l),s=0,f=d.length;f>s;s++)t.applyTransform(T,d[s],0);c.appendChild(T)}else c.appendChild(h);if(t.appendToken(c,"mo","\u27e9"),i){var g=t.createElement("msub");for(g.appendChild(c),d=t.getChildren(i),s=0,f=d.length;f>s;s++)t.applyTransform(g,d[s],0);e.appendChild(g)}else e.appendChild(c)},variance:function(e,n,a,r){var o=t.createElement("mrow"),p=t.createElement("msup");t.appendToken(p,"mo","\u03c3"),t.appendToken(p,"mn","2"),o.appendChild(p),t.appendToken(o,"mo","\u2061"),o.appendChild(t.createmfenced(r,"(",")")),e.appendChild(o)},grad:function(e,n,a,r){var o=t.createElement("mrow");t.appendToken(o,"mo","\u2207"),t.appendToken(o,"mo","\u2061"),o.appendChild(t.createmfenced(r,"(",")")),e.appendChild(o)},laplacian:function(e,n,a,r){var o=t.createElement("mrow"),p=t.createElement("msup");t.appendToken(p,"mo","\u2207"),t.appendToken(p,"mn","2"),o.appendChild(p),t.appendToken(o,"mo","\u2061"),o.appendChild(t.createmfenced(r,"(",")")),e.appendChild(o)},curl:function(e,n,a,r,o,p,l){var i=t.createElement("mrow");t.appendToken(i,"mo","\u2207"),t.appendToken(i,"mo","\xd7");var d="apply"===r[0].nodeName;d?i.appendChild(t.createmfenced(r,"(",")")):t.applyTransform(i,r[0],l),e.appendChild(i)},divergence:function(e,n,a,r,o,p,l){var i=t.createElement("mrow");t.appendToken(i,"mo","\u2207"),t.appendToken(i,"mo","\u22c5");var d="apply"===r[0].nodeName;d?i.appendChild(t.createmfenced(r,"(",")")):t.applyTransform(i,r[0],l),e.appendChild(i)},not:function(e,n,a,r,o,p,l){var i=t.createElement("mrow");t.appendToken(i,"mo","\xac");var d="apply"===r[0].nodeName||"bind"===r[0].nodeName;d&&t.appendToken(i,"mo","("),t.applyTransform(i,r[0],l),d&&t.appendToken(i,"mo",")"),e.appendChild(i)},divide:function(e,n,a,r){var o=t.createElement("mfrac");t.applyTransform(o,r[0],0),t.applyTransform(o,r[1],0),e.appendChild(o)},tendsto:function(e,n,a,r,o,p,l){var i;"tendsto"===a.nodeName?i=a.getAttribute("type"):(i=t.getTextContent(r[0]),r=r.slice(1));var d="above"===i?"\u2198":"below"===i?"\u2197":"\u2192";t.transforms.binary(d,2)(e,n,a,r,o,p,l)},minus:function(e,n,a,r,o,p,l){var i=1===r.length?5:2,d=t.createElement("mrow"),m=l>i;if(m&&t.appendToken(d,"mo","("),1===r.length)t.appendToken(d,"mo","-"),t.applyTransform(d,r[0],i);else{t.applyTransform(d,r[0],i),t.appendToken(d,"mo","-");var s;if("apply"===r[1].nodeName){var f=t.getChildren(r[1])[0];s="plus"===f.nodeName||"minus"===f.nodeName}s&&t.appendToken(d,"mo","("),t.applyTransform(d,r[1],i),s&&t.appendToken(d,"mo",")")}m&&t.appendToken(d,"mo",")"),e.appendChild(d)},"complex-cartesian":function(e,n,a,r){var o=t.createElement("mrow");t.applyTransform(o,r[0],0),t.appendToken(o,"mo","+"),t.applyTransform(o,r[1],0),t.appendToken(o,"mo","\u2062"),t.appendToken(o,"mi","i"),e.appendChild(o)},"complex-polar":function(e,n,a,r){var o=t.createElement("mrow");t.applyTransform(o,r[0],0),t.appendToken(o,"mo","\u2062");var p=t.createElement("msup");t.appendToken(p,"mi","e");var l=t.createElement("mrow");t.applyTransform(l,r[1],0),t.appendToken(l,"mo","\u2062"),t.appendToken(l,"mi","i"),p.appendChild(l),o.appendChild(p),e.appendChild(o)},integer:function(e,n,a,r){t.applyTransform(e,r[0],0)},"based-integer":function(e,n,a,r){var o=t.createElement("msub");t.applyTransform(o,r[1],0),t.applyTransform(o,r[0],0),e.appendChild(o)},rational:function(e,n,a,r){var o=t.createElement("mfrac");t.applyTransform(o,r[0],0),t.applyTransform(o,r[1],0),e.appendChild(o)},times:function(e,n,a,r,o,p,l){var i=t.createElement("mrow"),d=l>3;d&&t.appendToken(i,"mo","(");for(var m=0,s=r.length;s>m;m++)m>0&&t.appendToken(i,"mo","cn"===r[m].nodeName?"\xd7":"\u2062"),t.applyTransform(i,r[m],3);d&&t.appendToken(i,"mo",")"),e.appendChild(i)},plus:function(e,n,a,r,o,p,l){var i=t.createElement("mrow"),d=l>2;d&&t.appendToken(i,"mo","(");for(var m=0,s=r.length;s>m;m++){var f=r[m],c=t.getChildren(f);if(m>0){var h;t.settings.collapsePlusMinus?"cn"===f.nodeName&&!c.length&&(h=Number(t.getTextContent(f)))<0?(t.appendToken(i,"mo","\u2212"),t.appendToken(i,"mn",-h)):"apply"===f.nodeName&&2===c.length&&"minus"===c[0].nodeName?(t.appendToken(i,"mo","\u2212"),t.applyTransform(i,c[1],2)):"apply"===f.nodeName&&c.length>2&&"times"===c[0].nodeName&&"cn"===c[1].nodeName&&(h=Number(t.getTextContent(c[1]))<0)?(t.appendToken(i,"mo","\u2212"),t.getTextContent(c[1])=-h,t.applyTransform(i,f,2)):(t.appendToken(i,"mo","+"),t.applyTransform(i,f,2)):(t.appendToken(i,"mo","+"),t.applyTransform(i,f,2))}else t.applyTransform(i,f,2)}d&&t.appendToken(i,"mo",")"),e.appendChild(i)},transpose:function(e,n,a,r,o,p,l){var i=t.createElement("msup");t.applyTransform(i,r[0],l),t.appendToken(i,"mi","T"),e.appendChild(i)},power:function(e,n,a,r,o,p,l){var i=t.createElement("msup");t.applyTransform(i,r[0],3),t.applyTransform(i,r[1],l),e.appendChild(i)},selector:function(e,n,a,r){var o=t.createElement("msub"),p=r?r[0]:t.createElement("mrow");t.applyTransform(o,p,0);for(var l=t.createElement("mrow"),i=1,d=r.length;d>i;i++)1!=i&&t.appendToken(l,"mo",","),t.applyTransform(l,r[i],0);o.appendChild(l),e.appendChild(o)},log:function(e,n,a,r,o,p){var l=t.createElement("mrow"),i=t.createElement("mi");if(t.setTextContent(i,"log"),p.length&&"logbase"===p[0].nodeName){var d=t.createElement("msub");d.appendChild(i),t.applyTransform(d,t.getChildren(p[0])[0],0),l.appendChild(d)}else l.appendChild(i);t.applyTransform(l,r[0],7),e.appendChild(l)},"int":function(e,n,a,r,o,p){var l=t.createElement("mrow"),i=t.createElement("mo");t.setTextContent(i,"\u222b");var d=t.createElement("msubsup");d.appendChild(i);var m,s,f,c,h,T,g=t.createElement("mrow");for(s=0,h=p.length;h>s;s++)if("lowlimit"===p[s].nodeName||"condition"===p[s].nodeName||"domainofapplication"===p[s].nodeName)for(m=t.getChildren(p[s]),f=0,T=m.length;T>f;f++)t.applyTransform(g,m[f],0);else m=t.getChildren(p[s]),"interval"===p[s].nodeName&&2===m.length&&t.applyTransform(g,m[0],0);d.appendChild(g);var u=t.createElement("mrow");for(s=0,h=p.length;h>s;s++){if("uplimit"===p[s].nodeName){for(m=t.getChildren(p[s]),f=0,T=m.length;T>f;f++)t.applyTransform(u,m[f],0);break}if("interval"===p[s].nodeName){m=t.getChildren(p[s]),t.applyTransform(u,m[m.length-1],0);break}}for(d.appendChild(u),l.appendChild(d),s=0,c=r.length;c>s;s++)t.applyTransform(l,r[s],0);for(s=0,c=o.length;c>s;s++){var C=o[s];if(m=t.getChildren(C),m.length){var v=t.createElement("mrow");t.appendToken(v,"mi","d"),t.applyTransform(v,m[0],0),l.appendChild(v)}}e.appendChild(l)},inverse:function(e,n,a,r,o,p,l){var i=t.createElement("msup"),d=r.length?r[0]:t.createElement("mrow");t.applyTransform(i,d,l);var m=t.createElement("mfenced");t.appendToken(m,"mn","-1"),i.appendChild(m),e.appendChild(i)},quotient:function(e,n,a,r){var o=t.createElement("mrow");t.appendToken(o,"mo","\u230a"),r.length&&(t.applyTransform(o,r[0],0),t.appendToken(o,"mo","/"),r.length>1&&t.applyTransform(o,r[1],0)),t.appendToken(o,"mo","\u230b"),e.appendChild(o)},factorial:function(e,n,a,r){var o=t.createElement("mrow");t.applyTransform(o,r[0],4),t.appendToken(o,"mo","!"),e.appendChild(o)},root:function(e,n,a,r,o,p){var l;if("root"===a.nodeName&&(0===p.length||"degree"===p[0].nodeName&&"2"===t.getTextContent(p[0]))){l=t.createElement("msqrt");for(var i=0,d=r.length;d>i;i++)t.applyTransform(l,r[i],0)}else{l=t.createElement("mroot"),t.applyTransform(l,r[0],0);var m="root"===a.nodeName?p[0].childNodes[0]:r[1];t.applyTransform(l,m,0)}e.appendChild(l)},diff:function(e,n,a,r,o){if(o.length){var p,l=t.createElement("mfrac"),i=t.createElement("mrow"),d=t.createElement("mrow");l.appendChild(i),l.appendChild(d);var m,s,f,c,h=t.createElement("mi");t.setTextContent(h,"d");for(var T=t.getChildren(o[0]),g=0,u=T.length;u>g;g++)if("degree"===T[g].nodeName){var C=t.getChildren(T[g])[0];"1"!=t.getTextContent(C)&&(s=C,f=t.createElement("msup"),f.appendChild(h),h=f,t.applyTransform(h,s,0))}else m=T[g];if(i.appendChild(h),r.length)switch(r[0].nodeName){case"apply":case"bind":case"reln":c=t.createElement("mrow"),c.appendChild(l),t.applyTransform(c,r[0],3),p=c;break;default:t.applyTransform(i,r[0],0),p=l}if(t.appendToken(d,"mi","d"),s){var v=t.createElement("msup");t.applyTransform(v,m,0),t.applyTransform(v,s,0),d.appendChild(v)}else t.applyTransform(d,m,0);e.appendChild(p)}else f=t.createElement("msup"),c=t.createElement("mrow"),f.appendChild(c),t.applyTransform(c,r[0],0),t.appendToken(f,"mo","\u2032"),e.appendChild(f)},partialdiff:function(e,n,a,r,o,p){function l(e,n){t.appendToken(c,"mo","\u2202");var a=C[e];if(n>1){var r=t.createElement("msup");t.applyTransform(r,a,0),t.appendToken(r,"mn",n),c.appendChild(r)}else t.applyTransform(c,a,0)}var i,d,m,s=t.createElement("mfrac"),f=t.createElement("mrow"),c=t.createElement("mrow");s.appendChild(f),s.appendChild(c);var h,T,g;if(0===o.length&&2===r.length&&"list"===r[0].nodeName){if("lambda"!==r[1].nodeName){m=t.createElement("mrow"),d=t.createElement("msub"),t.appendToken(d,"mi","D");var u=t.getChildren(r[0]);return d.appendChild(t.createmfenced(u,"","")),m.appendChild(d),t.applyTransform(m,r[1],0),void e.appendChild(m)}T=t.getChildren(r[0]).length,1!=T?(i=t.createElement("msup"),t.appendToken(i,"mo","\u2202"),t.appendToken(i,"mn",T),f.appendChild(i)):t.appendToken(f,"mo","\u2202"),g=t.getChildren(r[1]),h=g[g.length-1];for(var C=[],v=t.getChildren(r[1]),y=t.getChildren(r[0]),k=0,E=v.length;E>k;k++)"bvar"===v[k].nodeName&&C.push(t.getChildren(v[k])[0]);var N=null;for(T=0,k=0,E=y.length;E>k;k++){var b=Number(t.getTextContent(y[k]))-1;null!==N&&b!=N&&(l(N,T),T=0),N=b,T+=1}N&&l(N,T)}else{i=t.createElement("msup"),f.appendChild(i),t.appendToken(i,"mo","\u2202");var x=t.createElement("mrow");i.appendChild(x);var w;if(p.length&&"degree"===p[0].nodeName&&t.getChildren(p[0]).length)w=t.getChildren(p[0])[0],t.applyTransform(x,w,0);else{T=0;var M=!1;for(k=0,E=o.length;E>k;k++)if(g=t.getChildren(o[k]),2===g.length)for(var A=0;2>A;A++)"degree"===g[A].nodeName&&(/^\s*\d+\s*$/.test(t.getTextContent(g[A]))?T+=Number(t.getTextContent(g[A])):(M&&t.appendToken(x,"mo","+"),M=!0,t.applyTransform(x,t.getChildren(g[A])[0],0)));else T++;T>0&&(M&&t.appendToken(x,"mo","+"),t.appendToken(x,"mn",T))}for(r.length&&(h=r[0]),k=0,E=o.length;E>k;k++)if(t.appendToken(c,"mo","\u2202"),g=t.getChildren(o[k]),2===g.length){for(A=0;2>A;A++)if("degree"===g[A].nodeName){var q=t.createElement("msup");t.applyTransform(q,g[1-A],0);var J=t.getChildren(g[A])[0];t.applyTransform(q,J,0),c.appendChild(q)}}else 1===g.length&&t.applyTransform(c,g[0],0)}if(h)switch(h.nodeName){case"apply":case"bind":case"reln":m=t.createElement("mrow"),m.appendChild(s),t.applyTransform(m,h,3),outNode=m;break;default:t.applyTransform(f,h,0),outNode=s}else outNode=s;e.appendChild(outNode)}},t.applyTokens.size=t.applyTokens.card,t}(MathJax.Hub),MathJax.Hub.Register.StartupHook("MathML Jax Ready",function(){var e=MathJax.InputJax.MathML,n=MathJax.Extension["MathML/content-mathml"];e.DOMfilterHooks.Add(function(e){e.math=n.transformElement(e.math)}),MathJax.Hub.Startup.signal.Post("MathML/content-mathml Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/MathML/content-mathml.js");